!function(l){function t(l,t){Math.abs(t.deltaY)||(t.deltaY=t.detail),Math.abs(t.deltaX)||(t.deltaX=t.detail),null===window.onmousewheel?(l.elY+=-1*t.deltaY,l.elX+=-1*t.deltaX):(l.elY+=-5*t.deltaY,l.elX+=-5*t.deltaX),i(l,l.elY,l.elX)}function i(l,t,e){t>0?t=0:t,e>0?e=0:e,t<-l.maxScrollY?t=-l.maxScrollY:t,e<-l.maxScrollX?e=-l.maxScrollX:e,l.elY=t,l.elX=e,l.y=parseInt(l.elY),l.x=parseInt(l.elX),l.percentY=100*Math.abs(l.elY/l.maxScrollY),l.percentX=100*Math.abs(l.elX/l.maxScrollX),h(l,l.percentY,l.percentX),l.RollElY&&r(l,l.percentY,l.percentX)}function o(l,t){return l.currentStyle?l.currentStyle[t]:getComputedStyle(l,!1)[t]}function h(l,t,e){l.elY=(l.melH-l.elch)/100*t,l.elX=(l.melW-l.elcw)/100*e,l.maxScrollY<0?l.elY=0:l.elY,l.maxScrollX<0?l.elX=0:l.elX,d()?l.childEl.style.transform="translate("+(isNaN(l.elX)?l.elX=0:l.elX)+"px,"+l.elY+"px) translateZ(0px) scale(1)":(l.childEl.style.left=l.elX+"px",l.childEl.style.top=l.elY+"px")}function r(l,t,e){var i=(parseInt(l.elH,10)-parseInt(l.childH,10))/100*t,o=(parseInt(l.elW,10)-parseInt(l.childXH,10))/100*e;d()?(l.RollChild&&(l.RollChild.style.transform="translate(0,"+i+"px)"),l.RollChildX&&(l.RollChildX.style.transform="translate("+o+"px,0px)")):(l.RollChild&&(l.RollChild.style.top=i+"px"),l.RollChildX&&(l.RollChildX.style.left=o+"px"))}function n(l,t){return"width"==t?parseInt(o(l,"width"),10)+parseInt(o(l,"paddingLeft"),10)+parseInt(o(l,"paddingRight"),10):"height"==t?parseInt(o(l,"height"),10)+parseInt(o(l,"paddingTop"),10)+parseInt(o(l,"paddingBottom"),10):parseInt(o(l,t),10)}function d(){try{return"localStorage"in window&&null!==window.localStorage}catch(l){return!1}}function c(l,t,e){var i=left=0;t.onmousedown=function(t){var o=(parseInt(l.elH,10)-parseInt(l.childH,10))/100*l.percentY,a=(parseInt(l.elW,10)-parseInt(l.childXH,10))/100*l.percentX;console.log(o),l.startY=t.clientY,l.startX=t.clientX,document.onmousemove=function(t){l.clientY=t.clientY-l.startY,l.clientX=t.clientX-l.startX,i=l.clientY+o,left=l.clientX+a,0>=i?i=0:i,0>=left?left=0:i,Math.abs(i)>=parseFloat(l.elH)-parseFloat(l.childH)?i=parseFloat(l.elH)-parseFloat(l.childH):i,Math.abs(left)>=parseFloat(l.elW)-parseFloat(l.childXH)?left=parseFloat(l.elW)-parseFloat(l.childXH):left,d()?(l.RollChild&&(l.RollChild.style.transform="translate(0,"+i+"px)"),l.RollChildX&&(l.RollChildX.style.transform="translate("+left+"px,0px)")):(l.RollChild&&(l.RollChild.style.top=-i+"px"),l.RollChildX&&(l.RollChildX.style.left=-left+"px")),"X"==e?l.percentX=left/((parseFloat(l.elW)-parseFloat(l.childXH))/100):l.percentY=i/((parseFloat(l.elH)-parseFloat(l.childH))/100),h(l,l.percentY,l.percentX),t.stopPropagation()}},document.onmouseup=function(){document.onmousemove=null,document.onmousedown=null}}var p,X,u;p=function(l){void 0==l.rollbarY?l.rollbarY=!0:l.rollbarY,void 0==l.rollbarX?l.rollbarX=!1:l.rollbarX;var i=this;if(i.melH=i.elch=this.percentY=this.percentX=i.elcw=i.melW=0,i.elY=i.elX=i.childH=i.childXH=i.elW=i.elH=i.clientY=i.clientX=i.startY=i.startX=0,this.y=0,this.x=0,void 0!=l.bgShow&&l.bgShow?l.bgColor="rgba("+l.bgColor+",0)"||"#999":l.colour||"#999",l.bgColor?l.bgColor:l.bgColor="#d0d0d0",X={width:l.width||5,position:"absolute",background:l.bgColor,zIndex:10,top:"15px",right:"5px",bottom:"15px",borderRadius:"8px"},u={width:l.width||5,position:"absolute",height:"20%",background:l.colour||"#999",zIndex:11,top:"0px",right:"0px",borderRadius:"8px"},rollXStyle={height:l.width||5,position:"absolute",background:l.bgColor||"#999",zIndex:10,left:"15px",right:"15px",bottom:"5px",borderRadius:"8px"},rChildXStyle={height:l.width||5,position:"absolute",width:"20%",background:l.colour||"#999",zIndex:11,left:"0px",right:"0px",borderRadius:"8px"},this.el=document.getElementById(l.el),o(this.el,"position")||(this.el.style.position="relative"),this.childEl=this.el.getElementsByTagName("*")[0],this.childEl.style.position="relative",i.melH=n(this.el,"height"),i.elch=n(this.childEl,"height"),i.melW=n(this.el,"width"),i.elcw=n(this.childEl,"width"),this.maxScrollY=i.elch-i.melH,this.maxScrollX=i.elcw-i.melW,this.el.addEventListener("mousewheel",function(e){t(i,e),l.callback&&l.callback(e),e.stopPropagation()},!1),this.el.addEventListener("DOMMouseScroll",function(e){t(i,e),l.callback&&l.callback(e),e.stopPropagation()},!1),void 0!=l.rollbarY&&l.rollbarY){this.RollElY=document.createElement("div"),this.RollChild=document.createElement("p");for(s in X)this.RollElY.style[s]=X[s];for(a in u)this.RollChild.style[a]=u[a];this.RollElY.appendChild(this.RollChild),this.el.appendChild(this.RollElY),i.childH=o(this.RollChild,"height"),i.elH=o(this.RollElY,"height"),c(i,i.RollChild,"Y")}if(void 0!=l.rollbarX&&l.rollbarX){this.RollElX=document.createElement("div"),this.RollChildX=document.createElement("p");for(y in rollXStyle)this.RollElX.style[y]=rollXStyle[y];for(e in rChildXStyle)this.RollChildX.style[e]=rChildXStyle[e];this.RollElX.appendChild(this.RollChildX),this.el.appendChild(this.RollElX),i.childXH=o(this.RollChildX,"width"),i.elW=o(this.RollElX,"width"),c(i,i.RollChildX,"X")}i.maxScrollY<0&&(i.RollElY.style.display="none"),i.maxScrollX<0&&(i.RollElX.style.display="none")},p.prototype={scrollTo:function(l,t,e){i(this,-t,-l),e&&e()},refresh:function(l){data=this,this.melH=n(this.el,"height"),this.elch=n(this.childEl,"height"),this.melW=n(this.el,"width"),this.elcw=n(this.childEl,"width"),this.maxScrollY=this.elch-this.melH,this.maxScrollX=this.elcw-this.melW,void 0!=data.rollbarY&&data.rollbarY&&(this.childH=o(this.RollChild,"height"),this.elH=o(this.RollElY,"height")),void 0!=data.rollbarX&&data.rollbarX&&(this.childXH=o(this.RollChildX,"width"),this.elW=o(this.RollElX,"width")),l&&l()}},"undefined"!=typeof module&&module.exports&&(module.exports=p),"function"==typeof define&&define(function(){return p}),l.RollBar=p}(window);